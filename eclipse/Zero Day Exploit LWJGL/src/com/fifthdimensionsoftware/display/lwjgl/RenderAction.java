package com.fifthdimensionsoftware.display.lwjgl;

import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

import com.fifthdimensionsoftware.tools.LWJGLUtil;

//THIS CLASS ROCKS!
public class RenderAction
{
	private String methodName;
	private Object[] args;
	
	public RenderAction(String methodName, Object... args)
	{
		this.methodName = methodName;
		this.args = args;
	}
	
	public void execute()
	{
		try {
			Method renderMethod = null;
			for(Method method : LWJGLUtil.class.getDeclaredMethods())
			{
				if(method.getName().equals(this.methodName))
					renderMethod = method;
			}
			renderMethod.setAccessible(true);
			renderMethod.invoke(ClassLoader.getSystemClassLoader(), this.args);
		} catch (SecurityException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {
			e.printStackTrace();
		}
	}
	
	public String toString()
	{
		return this.methodName;
	}
}
