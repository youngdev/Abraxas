package com.fifthdimensionsoftware.display.lwjgl.windows;

import org.newdawn.slick.Color;
import org.newdawn.slick.Graphics;
import org.newdawn.slick.fills.GradientFill;
import org.newdawn.slick.geom.Rectangle;
import org.newdawn.slick.gui.TextField;

import com.fifthdimensionsoftware.game.ZeroDayExploit;

public class WindowRenderUtil
{
	
	public static void drawGradient(Graphics g, String windowName, Rectangle shapeParam, Color color1, Color color2, Boolean vert)
	{
		Rectangle parentBounds = ZeroDayExploit.getRootWindow().windowMan.getWindow(windowName).getBounds();
		Rectangle shape = new Rectangle(0, 0, 0, 0);
		shape.setBounds(shapeParam);
		shape.setBounds(parentBounds.getX() + shape.getX(), parentBounds.getY() + shape.getY(), shape.getWidth(), shape.getHeight());
		//Normal code
		if(vert)
			g.fill(shape, new GradientFill(0, 0, color1, 0, shape.getHeight(), color2, true));
		else
			g.fill(shape, new GradientFill(0, 0, color1, shape.getWidth(), 0, color2, true));
	}
	
	public static void drawWindowDecor(Graphics g, String windowName)
	{
		Window theWindow = ZeroDayExploit.getRootWindow().windowMan.getWindow(windowName);
		Color[] colors = theWindow.getColors();
		
		Rectangle titleBounds = new Rectangle(theWindow.getBounds().getX(), theWindow.getBounds().getY(), theWindow.getBounds().getWidth(), 20);
		Rectangle borderBounds = new Rectangle(theWindow.getBounds().getX()+1, theWindow.getBounds().getY()+1, theWindow.getBounds().getWidth() - 2, theWindow.getBounds().getHeight() - 2);
		
		g.setColor(colors[0]);
		g.fill(titleBounds);
		
		g.setColor(colors[1]);
		g.draw(theWindow.getBounds());
		
		g.setColor(colors[2]);
		g.draw(borderBounds);
		
		g.setColor(colors[3]);
		g.drawString(windowName, theWindow.getBounds().getX() + 5, theWindow.getBounds().getY() + 1);
	}
	
	public static void drawString(Graphics g, String windowName, String string, int x, int y, Color color)
	{
		Window window = ZeroDayExploit.getRootWindow().windowMan.getWindow(windowName);
		Color tmpColor = g.getColor();
		g.setColor(color);
		g.drawString(string, window.getBounds().getX() + x, window.getBounds().getY() + y);
		g.setColor(tmpColor);
	}
	
	public static void drawTextBox(Graphics g, String windowName, Rectangle bounds, TextField field)
	{
		Rectangle tmpRect = ZeroDayExploit.getRootWindow().windowMan.getWindow(windowName).getBounds();
		field.setLocation((int)(tmpRect.getX() + bounds.getX()), (int)(tmpRect.getY() + bounds.getY()));
		field.render(ZeroDayExploit.getContainer(), g);
	}
}
