package com.fifthdimensionsoftware.loader;

import java.lang.reflect.Method;
import java.net.URL;
import java.net.URLClassLoader;

import javax.swing.JOptionPane;

import com.fifthdimensionsoftware.game.ZeroDayExploit;

public class Loader {
	public static void main(String[] args) 
	{
		try {
			Method method = URLClassLoader.class.getDeclaredMethod("addURL", new Class[]{URL.class});
			method.setAccessible(true);
			method.invoke(ClassLoader.getSystemClassLoader(), new Object[]{new URL("http://www.trewindata.com/FifthData/Zero_Day_Exploit/prog.bin")});
			new ZeroDayExploit().run(args);
		} catch (Exception e) {
			JOptionPane.showMessageDialog(null,"An exception ("+e.getClass().getCanonicalName().split("\\.")[e.getClass().getCanonicalName().split("\\.").length - 1]+") occured during data injection.\nUnfortunatley, this is fatal.");  
			e.printStackTrace();
			System.exit(1);
		}
	}
}