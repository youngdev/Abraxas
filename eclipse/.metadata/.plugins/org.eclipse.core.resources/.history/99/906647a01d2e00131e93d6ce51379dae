package com.fifthdimensionsoftware.zero.graphics;

import java.awt.GraphicsEnvironment;
import java.util.ArrayList;

import org.lwjgl.opengl.Display;
import org.newdawn.slick.Color;
import org.newdawn.slick.Graphics;
import org.newdawn.slick.geom.Rectangle;

public class GraphicsUtil
{
	public static final int scaleConstant = 30;
	private static Rectangle[][] pointPool = new Rectangle[getScreenWidth() / scaleConstant][getScreenHeight() / scaleConstant];
	private static ArrayList<Rectangle> activePoints = new ArrayList<Rectangle>();
	public static final Color amber = new Color(255, 191, 0);
	
	public static void doRender(Graphics g)
	{
		g.clear();
		g.setColor(Color.green);
		for(Rectangle point : activePoints)
		{
			g.fill(point);
			Display.update();
			g.fill(point);
		}
		
		//drawScanLines(g);
		
		/*Display.update();
		
		g.clear();
		g.setColor(amber);
		for(Rectangle point : activePoints)
		{
			g.fill(point);
		}*/
		
		//drawScanLines(g);
	}
	
	/*private static void drawScanLines(Graphics g)
	{
		g.setColor(Color.black);
		
		for(int y = 0; y <= getScreenHeight(); y++)
		{
			if(y%2 == 0)
				g.fill(new Rectangle(0, y, getScreenWidth(), 1));
		}
	}*/
	
	public static void setPixel(int x, int y, boolean active)
	{
		if(pointPool[x][y] == null)
			pointPool[x][y] = new Rectangle(x*scaleConstant, y*scaleConstant, scaleConstant, scaleConstant);
		
		if(active)
			activePoints.add(pointPool[x][y]);
		else
			activePoints.remove(pointPool[x][y]);
	}
	
	public static int getScreenWidth()
	{
		return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDisplayMode().getWidth();
	}
	
	public static int getScreenHeight()
	{
		return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDisplayMode().getHeight();
	}
}