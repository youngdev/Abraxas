package com.fifthdimensionsoftware.zero.graphics;

import java.awt.GraphicsEnvironment;

import org.lwjgl.opengl.Display;
import org.newdawn.slick.Color;
import org.newdawn.slick.Graphics;
import org.newdawn.slick.Image;
import org.newdawn.slick.SlickException;

import com.fifthdimensionsoftware.zero.tools.ZipUtil;

public class GraphicsUtil
{
	public static final int scaleConstant = 4;
	
	public static final Color amber = new Color(255, 191, 0);
	
	public static Color screenColor = amber;
	
	public static void setPixel(int x, int y, boolean active, Graphics g)
	{
		if(active)
		{
			g.setColor(screenColor);
			g.fillRect(x*scaleConstant, y*scaleConstant, scaleConstant, scaleConstant);
			Display.update();
			g.fillRect(x*scaleConstant, y*scaleConstant, scaleConstant, scaleConstant);
		}
		else
		{
			g.setColor(Color.black);
			g.fillRect(x*scaleConstant, y*scaleConstant, scaleConstant, scaleConstant);
			Display.update();
			g.fillRect(x*scaleConstant, y*scaleConstant, scaleConstant, scaleConstant);
		}
	}
	
	public static void displayLoadingImage(String imageFile, Graphics g, long delay)
	{
		try {
			g.clear();
			Image tmpImage = new Image(ZipUtil.getStreamForFile("res.bin", imageFile), imageFile, false);
			tmpImage.drawCentered(getScreenWidth() / 2, getScreenHeight() / 2);
			Display.update();
			Thread.sleep(delay);
			Display.update();
			g.clear();
			
		} catch (SlickException | InterruptedException e) {
			e.printStackTrace();
		}
	}
	
	public static int getScreenWidth()
	{
		return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDisplayMode().getWidth();
	}
	
	public static int getScreenHeight()
	{
		return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDisplayMode().getHeight();
	}
}