package com.fifthdimensionsoftware.lua;

import java.awt.Color;
import java.awt.Graphics2D;
import java.io.ByteArrayOutputStream;
import java.io.IOException;

import com.fifthdimensionsoftware.game.Sound;
import com.fifthdimensionsoftware.game.ZeroDayExploit;

public class LuaJava {
	
	public static void playSound(String name)
	{
		Sound sound = new Sound(name);
		sound.play();
	}
	
	public static String dencryptString(String string, String key)
	{
		ByteArrayOutputStream stream = new ByteArrayOutputStream();
		try {
			stream.write(encryptBytes(string.getBytes("UTF-8"), key.getBytes("UTF-8")));
			return stream.toString("UTF-8");
		} catch (IOException e) {
			e.printStackTrace();
		}
		return "";
	}
	
	private static byte[] encryptBytes(final byte[] input, final byte[] secret) {
	    final byte[] output = new byte[input.length];
	    if (secret.length == 0) {
	        throw new IllegalArgumentException("empty security key");
	    }
	    int spos = 0;
	    for (int pos = 0; pos < input.length; ++pos) {
	        output[pos] = (byte) (input[pos] ^ secret[spos]);
	        ++spos;
	        if (spos >= secret.length) {
	            spos = 0;
	        }
	    }
	    return output;
	}
	
	public static Graphics2D getScreen()
	{
		return ZeroDayExploit.getScreen();
	}
	
	public static Color createColor(int r, int g, int b)
	{
		return new Color(r,g,b);
	}
}