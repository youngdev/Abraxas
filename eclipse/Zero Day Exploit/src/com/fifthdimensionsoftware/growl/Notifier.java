package com.fifthdimensionsoftware.growl;

import java.util.HashMap;

import com.fifthdimensionsoftware.game.ZeroDayExploit;

import net.sf.libgrowl.Application;
import net.sf.libgrowl.Notification;
import net.sf.libgrowl.NotificationType;

import static com.fifthdimensionsoftware.game.ZeroDayExploit.*;

public class Notifier
{
	private HashMap<String, Application> customApps = new HashMap<String, Application>();
	
	public void pushSystemMessage(String subject, String message)
	{
		if(isGrowlAllowed)
			globalGrowl.notify(new Notification(globalApp, notificationTypes[0], subject, message));
	}
	
	public void pushCodeMessage(String application, String iconPath, String subject, String message)
	{
		if(isGrowlAllowed)
		{
			Application actionApp = null;
			if (customApps.containsKey(application)) {
				actionApp = this.customApps.get(application);
			} else {
				Application newApp = new Application(application, ZeroDayExploit.filterPath("disk", iconPath, "png"));
				globalGrowl.register(newApp,
						new NotificationType[] { new NotificationType(
								"Notification") });
				actionApp = newApp;
			}
			globalGrowl.notify(new Notification(actionApp,
					new NotificationType("Notification"), subject, message));
		}
	}
}
