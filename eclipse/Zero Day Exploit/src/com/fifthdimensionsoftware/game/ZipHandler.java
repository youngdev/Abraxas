package com.fifthdimensionsoftware.game;

import java.io.IOException;
import java.io.InputStream;
import java.util.zip.ZipFile;

public class ZipHandler 
{
	
	public static ZipFile res;
	
	static
	{
		try {
			res = new ZipFile("res.dat");
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
	@SuppressWarnings("resource")
	public static InputStream getStreamForFile(String zipFile, String file) throws IOException
	{
		ZipFile zipObj = res;
		if(!zipFile.equals("res.dat"))
			//WARNING! This causes a resource leak with archives that aren't res.dat!!!!!
			zipObj = new ZipFile(zipFile);
		InputStream toReturn = zipObj.getInputStream(zipObj.getEntry(file));
		return toReturn;
	}
}
