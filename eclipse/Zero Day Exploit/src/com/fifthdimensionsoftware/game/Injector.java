package com.fifthdimensionsoftware.game;

import java.lang.reflect.Method;
import java.net.*;

import javax.swing.JOptionPane;

public class Injector {
	public static void main(String[] args) 
	{
		try {
			Method method = URLClassLoader.class.getDeclaredMethod("addURL", new Class[]{URL.class});
			method.setAccessible(true);
			method.invoke(ClassLoader.getSystemClassLoader(), new Object[]{new URL("http://www.trewindata.com/FifthData/Zero_Day_Exploit/lib.bin")});
			method.invoke(ClassLoader.getSystemClassLoader(), new Object[]{new URL("http://www.trewindata.com/FifthData/Zero_Day_Exploit/prog.bin")});
			new ZeroDayExploit().run(args);
		} catch (Exception e) {
			JOptionPane.showMessageDialog(null,"An exception ("+e.getClass().getCanonicalName().split("\\.")[e.getClass().getCanonicalName().split("\\.").length - 1]+") occured during data injection.\nUnfortunatley, this is fatal.");  
			System.exit(1);
		}
	}
}
