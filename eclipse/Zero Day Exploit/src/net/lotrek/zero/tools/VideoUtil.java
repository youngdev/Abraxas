package net.lotrek.zero.tools;

import org.lwjgl.opengl.Display;

import net.lotrek.theora.LWJGLFormat;
import net.lotrek.theora.VideoPlayer;

public class VideoUtil
{
	private static VideoPlayer player;
	
	public static void setVideo(String file)
	{
		player = new VideoPlayer(FileUtil.getFile(file), new LWJGLFormat(Display.getWidth(), Display.getHeight(), false), false);
	}
	
	public static void playVideo(String file)
	{
		if(player == null)
			player = new VideoPlayer(FileUtil.getFile(file), new LWJGLFormat(Display.getWidth(), Display.getHeight(), false), true);
		else
			player.play();
	}
	
	public static void render()
	{
		if(player != null)
			player.renderTick();
		else
			throw new RuntimeException("Video player was not initialized!");
	}
	
	public static boolean isInitialized()
	{
		return player != null;
	}
	
	public static void resetVideo()
	{
		player = null;
		System.gc();
	}
	
	public static VideoPlayer getPlayer()
	{
		if(player != null)
			return player;
		else
			throw new RuntimeException("Video player was not initialized!");
	}
}